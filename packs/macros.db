{"_id":"tJne64421MIbpxW1","name":"treasureGenerator","permission":{"default":0,"bOvXr0XVBb8OJGQO":3},"type":"script","flags":{"macro-marker":{"activeData":{"icon":"icons/svg/dice-target.svg","tooltip":"New Macro","colour":"#ff0000","trigger":""}},"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.mwQDhXTceWK9uu4S"}},"scope":"global","command":"let typeATreasure = [\n    {value: 1, rewardText: \"Avg 1 gp\", rewards: [\"5d10 cp\", \"3d4 sp\"]},\n    {value: 5, rewardText: \"Avg 3.8 gp\", rewards: [\"2d6 * 10 cp\", \"4d8 sp\", \"1d4 gp\"]},\n    {value: 10, rewardText: \"Avg 9.1 gp\", rewards: [\"5d10 * 10 cp\", \"5d10 sp\", \"1d8 gp\"]},\n    {value: 25, rewardText: \"Avg 25.5 gp\", rewards: [\"2d4 * 100 cp\", \"3d6 * 10 sp\", \"4d4 gp\"]},\n    {value: 50, rewardText: \"Avg 52 gp\", rewards: [\"4d4 * 100 cp\", \"4d6 * 10 sp\", \"8d6 gp\"]},\n    {value: 100, rewardText: \"Avg 102 gp\", rewards: [\"6d8 * 10 sp\", \"3d4 * 10 gp\"]},\n    {value: 200, rewardText: \"Avg 200 gp\", rewards: [\"2d4 * 100 sp\", \"4d4 * 10 gp\", \"2d4 pp\"]},\n    {value: 500, rewardText: \"Avg 490 gp\", rewards: [\"6d6 * 10 gp\", \"8d6 pp\"]},\n    {value: 1000, rewardText: \"Avg 1050 gp\", rewards: [\"2d4 * 100 gp\", \"10d10 pp\"]},\n    {value: 5000, rewardText: \"Avg 5100 gp\", rewards: [\"4d8 * 100 gp\", \"6d10 * 10 pp\"]},\n    {value: 10000, rewardText: \"Avg 10400 gp\", rewards: [\"2d4 * 1000 gp\", \"12d8 * 10 pp\"]},\n    {value: 50000, rewardText: \"Avg 51000 gp\", rewards: [\"2d6 * 1000 gp\", \"8d10 * 100 pp\"]}\n];\nlet typeBTreasure = [\n    {value: 10, rewardText: \"Gr. 1 Gemstone\", rewards: [\"Grade 1 Gemstones\"]},\n    {value: 15, rewardText: \"Avg 4 gp, Gr. 1 Gemstone\", rewards: [\"2d6 * 10 cp\", \"4d8 sp\", \"1d4 gp\", \"Grade 1 Gemstones\"]},\n    {value: 25, rewardText: \"4.8 gp, 2x Gr. 1 Gemstones\", rewards: [\"5d10 sp\", \"1d4 gp\", \"Grade 1 Gemstones\", \"Grade 1 Gemstones\"]},\n    {value: 50, rewardText: \"Gr. 2 Gemstone\", rewards: [\"Grade 2 Gemstones\"]},\n    {value: 50, rewardText: \"Avg 21 gp, 3x Gr. 1 Gemstones\", rewards: [\"3d6 * 10 sp\", \"3d6 gp\", \"Grade 1 Gemstones\", \"Grade 1 Gemstones\", \"Grade 1 Gemstones\"]},\n    {value: 75, rewardText: \"Avg 5 gp, 2x Gr. 1 Gemstones, Gr. 2 Gemstone\", rewards: [\"1d4 * 10 sp\", \"1d4 gp\", \"Grade 1 Gemstones\", \"Grade 1 Gemstones\", \"Grade 2 Gemstones\"]},\n    {value: 100, rewardText: \"Gr. 3 Gemstone\", rewards: [\"Grade 3 Gemstones\"]},\n    {value: 100, rewardText: \"Avg 31.5 gp, 2x Gr. 1 Gemstones, Gr. 2 Gemstone\", rewards: [\"3d8 * 10 sp\", \"4d8 gp\", \"Grade 1 Gemstones\", \"Grade 1 Gemstones\", \"Grade 2 Gemstones\"]},\n    {value: 150, rewardText: \"Gr. 2 Gemstone, Gr. 3 Gemstone\", rewards: [\"Grade 2 Gemstones\", \"Grade 3 Gemstones\"]},\n    {value: 200, rewardText: \"Avg 60.5 gp, 4x Gr. 1 Gemstones, Gr. 3 Gemstone\", rewards: [\"3d6 * 10 sp\", \"2d4 * 10 gp\", \"Grade 1 Gemstones\", \"Grade 1 Gemstones\", \"Grade 1 Gemstones\", \"Grade 1 Gemstones\", \"Grade 3 Gemstones\"]},\n    {value: 250, rewardText: \"Avg 50 gp, 2x Gr. 2 Gemstones, Gr. 3 Gemstone\", rewards: [\"2d4 * 10 gp\", \"Grade 2 Gemstones\", \"Grade 2 Gemstones\", \"Grade 3 Gemstones\"]},\n    {value: 500, rewardText: \"Gr. 4 Gemstone\", rewards: [\"Grade 4 Gemstones\"]},\n    {value: 500, rewardText: \"Avg 100 gp, 2x Gr. 2 Gemstones, 3x Gr. 3 Gemstones\", rewards: [\"2d4 * 10 gp\", \"2d4 pp\", \"Grade 2 Gemstones\", \"Grade 2 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\"]},\n    {value: 750, rewardText: \"Avg 50 gp, 2x Gr. 2 Gemstones, Gr. 4 Gemstone\", rewards: [\"2d4 * 10 gp\", \"Grade 2 Gemstones\", \"Grade 2 Gemstones\", \"Grade 4 Gemstones\"]},\n    {value: 1000, rewardText: \"Gr. 5 Gemstone\", rewards: [\"Grade 5 Gemstones\"]},\n    {value: 1000, rewardText: \"Avg 205 gp, 3x Gr. 3 Gemstones, Gr. 4 Gemstone\", rewards: [\"3d6 * 10 gp\", \"4d4 pp\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 4 Gemstones\"]},\n    {value: 2500, rewardText: \"Avg 500 gp, 2x Gr. 4 Gemstones, Gr. 5 Gemstone\", rewards: [\"2d4 * 100 gp\", \"Grade 4 Gemstones\", \"Grade 4 Gemstones\", \"Grade 5 Gemstones\"]},\n    {value: 5000, rewardText: \"Gr. 6 Gemstone\", rewards: [\"Grade 6 Gemstones\"]},\n    {value: 5000, rewardText: \"Avg 1000 gp, 2x Gr. 4 Gemstones, 3x Gr. 5 Gemstones\", rewards: [\"2d4 * 100 gp\", \"2d4 * 10 pp\", \"Grade 4 Gemstones\", \"Grade 4 Gemstones\", \"Grade 5 Gemstones\", \"Grade 5 Gemstones\", \"Grade 5 Gemstones\"]},\n    {value: 10000, rewardText: \"5x Gr. 5 Gemstones, Gr. 6 Gemstone\", rewards: [\"Grade 5 Gemstones\", \"Grade 5 Gemstones\", \"Grade 5 Gemstones\", \"Grade 5 Gemstones\", \"Grade 5 Gemstones\", \"Grade 6 Gemstones\"]},\n    {value: 20000, rewardText: \"Avg 5100 gp, 3x Gr. 6 Gemstones\", rewards: [\"4d8 * 100 gp\", \"6d10 * 10 pp\", \"Grade 6 Gemstones\", \"Grade 6 Gemstones\", \"Grade 6 Gemstones\"]},\n    {value: 50000, rewardText: \"Avg 1000 gp, 10x Gr. 3 Gemstones, 8x Gr. 6 Gemstones\", rewards: [\"4d4 * 10 pp\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 6 Gemstones\", \"Grade 6 Gemstones\", \"Grade 6 Gemstones\", \"Grade 6 Gemstones\", \"Grade 6 Gemstones\", \"Grade 6 Gemstones\", \"Grade 6 Gemstones\", \"Grade 6 Gemstones\"]}\n];\nlet typeCTreasure = [\n    {value: 50, rewardText: \"Gr. 1 Art Object\", rewards: [\"Grade 1 Art Objects\"]},\n    {value: 100, rewardText: \"Gr. 2 Art Object\", rewards: [\"Grade 2 Art Objects\"]},\n    {value: 100, rewardText: \"2x Gr. 1 Art Objects\", rewards: [\"Grade 1 Art Objects\", \"Grade 1 Art Objects\"]},\n    {value: 150, rewardText: \"Gr. 1 Art Object, Gr. 2 Art Object\", rewards: [\"Grade 1 Art Objects\", \"Grade 2 Art Objects\"]},\n    {value: 200, rewardText: \"2x Gr. 2 Art Objects\", rewards: [\"Grade 2 Art Objects\", \"Grade 2 Art Objects\"]},\n    {value: 250, rewardText: \"3x Gr. 1 Art Objects, Gr. 2 Art Object\", rewards: [\"Grade 1 Art Objects\", \"Grade 1 Art Objects\", \"Grade 1 Art Objects\", \"Grade 2 Art Objects\"]},\n    {value: 500, rewardText: \"Gr. 3 Art Object\", rewards: [\"Grade 3 Art Objects\"]},\n    {value: 500, rewardText: \"4x Gr. 1 Art Objects, 3x Gr. 2 Art Objects\", rewards: [\"Grade 1 Art Objects\", \"Grade 1 Art Objects\", \"Grade 1 Art Objects\", \"Grade 1 Art Objects\", \"Grade 2 Art Objects\", \"Grade 2 Art Objects\", \"Grade 2 Art Objects\"]},\n    {value: 750, rewardText: \"3x Gr. 1 Art Objects, 2x Gr. 2 Art Objects, Gr. 3 Art Object\", rewards: [\"Grade 1 Art Objects\", \"Grade 1 Art Objects\", \"Grade 1 Art Objects\", \"Grade 2 Art Objects\", \"Grade 2 Art Objects\", \"Grade 3 Art Objects\"]},\n    {value: 1000, rewardText: \"Gr. 4 Art Object\", rewards: [\"Grade 4 Art Objects\"]},\n    {value: 1000, rewardText: \"2x Gr. 3 Art Objects\", rewards: [\"Grade 3 Art Objects\", \"Grade 3 Art Objects\"]},\n    {value: 1500, rewardText: \"Gr. 3 Art Object, Gr. 4 Art Object\", rewards: [\"Grade 3 Art Objects\", \"Grade 4 Art Objects\"]},\n    {value: 2000, rewardText: \"2x Gr. 4 Art Objects\", rewards: [\"Grade 4 Art Objects\", \"Grade 4 Art Objects\"]},\n    {value: 2500, rewardText: \"5x Gr. 2 Art Objects, 2x Gr. 3 Art Objects, Gr. 4 Art Object\", rewards: [\"Grade 2 Art Objects\", \"Grade 2 Art Objects\", \"Grade 2 Art Objects\", \"Grade 2 Art Objects\", \"Grade 2 Art Objects\", \"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 4 Art Objects\"]},\n    {value: 5000, rewardText: \"Gr. 5 Art Object\", rewards: [\"Grade 5 Art Objects\"]},\n    {value: 5000, rewardText: \"4x Gr. 3 Art Objects, 3x Gr. 4 Art Objects\", rewards: [\"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 4 Art Objects\", \"Grade 4 Art Objects\", \"Grade 4 Art Objects\"]},\n    {value: 7500, rewardText: \"Gr. 3 Art Object, 2x Gr. 4 Art Objects, Gr. 5 Art Object\", rewards: [\"Grade 3 Art Objects\", \"Grade 4 Art Objects\", \"Grade 4 Art Objects\", \"Grade 5 Art Objects\"]},\n    {value: 10000, rewardText: \"Gr. 6 Art Object\", rewards: [\"Grade 6 Art Objects\"]},\n    {value: 10000, rewardText: \"5x Gr. 4 Art Objects, Gr. 5 Art Object\", rewards: [\"Grade 4 Art Objects\", \"Grade 4 Art Objects\", \"Grade 4 Art Objects\", \"Grade 4 Art Objects\", \"Grade 4 Art Objects\", \"Grade 5 Art Objects\"]},\n    {value: 15000, rewardText: \"Gr. 5 Art Object, Gr. 6 Art Object\", rewards: [\"Grade 5 Art Objects\", \"Grade 6 Art Objects\"]},\n    {value: 20000, rewardText: \"2x Gr. 5 Art Objects, Gr. 6 Art Object\", rewards: [\"Grade 5 Art Objects\", \"Grade 5 Art Objects\", \"Grade 6 Art Objects\"]},\n    {value: 50000, rewardText: \"10x Gr. 3 Art Objects, 5x Gr. 4 Art Objects, 4x Gr. 5 Art Objects, 2x Gr. 6 Art Objects\", rewards: [\"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 4 Art Objects\", \"Grade 4 Art Objects\", \"Grade 4 Art Objects\", \"Grade 4 Art Objects\", \"Grade 4 Art Objects\", \"Grade 5 Art Objects\", \"Grade 5 Art Objects\", \"Grade 5 Art Objects\", \"Grade 5 Art Objects\", \"Grade 6 Art Objects\", \"Grade 6 Art Objects\"]}\n];\nlet typeDTreasure = [\n    {value: 50, rewardText: \"Avg 20.5 gp, L.Min. Scroll\", rewards: [\"3d6 * 10 sp\", \"4d4 gp\", \"Lesser Minor Scrolls\"]},\n    {value: 50, rewardText: \"Avg 10 gp, L.Min. Potion\", rewards: [\"2d4 * 10 sp\", \"2d4 gp\", \"Lesser Minor Potions\"]},\n    {value: 100, rewardText: \"Avg 30.5 gp, L.Min. Potion, L.Min. Scroll\", rewards: [\"4d6 * 10 sp\", \"3d10 gp\", \"Lesser Minor Potions\", \"Lesser Minor Scrolls\"]},\n    {value: 150, rewardText: \"Avg 26 gp, G.Min. Scroll\", rewards: [\"2d4 * 10 sp\", \"6d6 gp\", \"Greater Minor Scrolls\"]},\n    {value: 200, rewardText: \"Avg 19 gp, G.Min. Potion, L.Min. Scroll\", rewards: [\"2d4 * 10 sp\", \"4d6 gp\", \"Greater Minor Potions\", \"Lesser Minor Scrolls\"]},\n    {value: 250, rewardText: \"Avg 46 gp, 2x L.Min. Potions, G.Min. Scroll\", rewards: [\"3d6 * 10 sp\", \"3d6 gp\", \"1d4 pp\", \"Lesser Minor Potions\", \"Lesser Minor Potions\", \"Greater Minor Scrolls\"]},\n    {value: 300, rewardText: \"Avg 26 gp, G.Min. Potion, G.Min. Scroll\", rewards: [\"2d4 * 10 sp\", \"6d6 gp\", \"Greater Minor Potions\", \"Greater Minor Scrolls\"]},\n    {value: 400, rewardText: \"G.Min. Potion, 2x G.Min. Scrolls\", rewards: [\"Greater Minor Potions\", \"Greater Minor Scrolls\", \"Greater Minor Scrolls\"]},\n    {value: 500, rewardText: \"Avg 75 gp, L.Med. Potion, G.Min. Scroll\", rewards: [\"2d4 * 10 gp\", \"1d4 pp\", \"Lesser Medium Potions\", \"Greater Minor Scrolls\"]},\n    {value: 500, rewardText: \"Avg 75 gp, 2x G.Min. Potions, G.Min. Scroll\", rewards: [\"2d4 * 10 gp\", \"1d4 pp\", \"Greater Minor Potions\", \"Greater Minor Potions\", \"Greater Minor Scrolls\"]},\n    {value: 750, rewardText: \"Avg 24.5 gp, G.Min. Scroll, L.Min. Wand\", rewards: [\"7d6 gp\", \"Greater Minor Scrolls\", \"Lesser Minor Wands\"]},\n    {value: 1000, rewardText: \"Avg 205 gp, L.Med. Potion, L.Med. Scroll\", rewards: [\"4d4 * 10 gp\", \"3d6 pp\", \"Lesser Medium Potions\", \"Lesser Medium Scrolls\"]},\n    {value: 1000, rewardText: \"Avg 100 gp, L.Med. Potion, L.Min. Wand\", rewards: [\"2d4 * 10 gp\", \"2d4 pp\", \"Lesser Medium Potions\", \"Lesser Minor Wands\"]},\n    {value: 1500, rewardText: \"G.Min. Wand\", rewards: [\"Greater Minor Wands\"]},\n    {value: 1500, rewardText: \"Avg 205 gp, G.Med. Potion, G.Med. Scroll\", rewards: [\"4d4 * 10 gp\", \"3d6 pp\", \"Greater Medium Potions\", \"Greater Medium Scrolls\"]},\n    {value: 2000, rewardText: \"G.Med. Potion, G.Min. Wand\", rewards: [\"Greater Medium Potions\", \"Greater Minor Wands\"]},\n    {value: 2000, rewardText: \"Avg 100 gp, L.Med. Potion, 2x G.Med. Scrolls\", rewards: [\"2d4 * 10 gp\", \"2d4 pp\", \"Lesser Medium Potions\", \"Greater Medium Scrolls\", \"Greater Medium Scrolls\"]},\n    {value: 3000, rewardText: \"Avg 205 gp, G.Med. Potion, G.Med. Scroll, G.Min. Wand\", rewards: [\"3d6 * 10 gp\", \"4d4 pp\", \"Greater Medium Potions\", \"Greater Medium Scrolls\", \"Greater Minor Wands\"]},\n    {value: 4000, rewardText: \"Avg 205 gp, G.Med. Scroll, 2x G.Min. Wands\", rewards: [\"3d6 * 10 gp\", \"4d4 pp\", \"Greater Medium Scrolls\", \"Greater Minor Wands\", \"Greater Minor Wands\"]},\n    {value: 5000, rewardText: \"Avg 100 gp, 3x L.Maj. Potions, 2x G.Med. Scrolls, G.Min. Wand\", rewards: [\"2d4 * 10 gp\", \"2d4 pp\", \"Lesser Major Potions\", \"Lesser Major Potions\", \"Lesser Major Potions\", \"Greater Medium Scrolls\", \"Greater Medium Scrolls\", \"Greater Minor Wands\"]},\n    {value: 7500, rewardText: \"Avg 70 gp, L.Maj. Scroll, L.Med. Wand\", rewards: [\"2d6 pp\", \"Lesser Major Scrolls\", \"Lesser Medium Wands\"]},\n    {value: 7500, rewardText: \"Avg 175 gp, 2x G.Maj. Potions, 2x G.Maj. Scrolls\", rewards: [\"5d6 pp\", \"Greater Major Potions\", \"Greater Major Potions\", \"Greater Major Scrolls\", \"Greater Major Scrolls\"]},\n    {value: 10000, rewardText: \"G.Med. Wand\", rewards: [\"Greater Medium Wands\"]},\n    {value: 10000, rewardText: \"Avg 140 gp, G.Maj. Potion, G.Maj. Scroll, L.Med. Wand\", rewards: [\"4d6 pp\", \"Greater Major Potions\", \"Greater Major Scrolls\", \"Lesser Medium Wands\"]},\n    {value: 15000, rewardText: \"L.Maj. Wand\", rewards: [\"Lesser Major Wands\"]},\n    {value: 15000, rewardText: \"Avg 495 gp, 3x G.Maj. Potions, 2x L.Maj. Scrolls, G.Med. Wand\", rewards: [\"9d10 pp\", \"Greater Major Potions\", \"Greater Major Potions\", \"Greater Major Potions\", \"Lesser Major Scrolls\", \"Lesser Major Scrolls\", \"Greater Medium Wands\"]},\n    {value: 20000, rewardText: \"Avg 600 gp, 2x G.Maj. Potions, G.Maj. Scroll, L.Maj. Wand\", rewards: [\"4d4 * 10 gp\", \"2d4 * 10 pp\", \"Greater Major Potions\", \"Greater Major Potions\", \"Greater Major Scrolls\", \"Lesser Major Wands\"]},\n    {value: 20000, rewardText: \"Avg 210 gp, 3x L.Maj. Potions, G.Maj. Wand\", rewards: [\"6d6 * 10 gp\", \"Lesser Major Potions\", \"Lesser Major Potions\", \"Lesser Major Potions\", \"Greater Major Wands\"]},\n    {value: 25000, rewardText: \"5x G.Maj. Scrolls, G.Med. Wand\", rewards: [\"Greater Major Scrolls\", \"Greater Major Scrolls\", \"Greater Major Scrolls\", \"Greater Major Scrolls\", \"Greater Major Scrolls\", \"Greater Medium Wands\"]},\n    {value: 30000, rewardText: \"Avg 210 gp, 4x G.Maj. Potions, 3x G.Maj. Scrolls, G.Maj. Wand\", rewards: [\"6d6 pp\", \"Greater Major Potions\", \"Greater Major Potions\", \"Greater Major Potions\", \"Greater Major Potions\", \"Greater Major Scrolls\", \"Greater Major Scrolls\", \"Greater Major Scrolls\", \"Greater Major Wands\"]},\n    {value: 50000, rewardText: \"Avg 2000 gp, 4x G.Maj. Scrolls, 2x G.Maj. Wands\", rewards: [\"8d4 * 10 pp\", \"Greater Major Scrolls\", \"Greater Major Scrolls\", \"Greater Major Scrolls\", \"Greater Major Scrolls\", \"Greater Major Wands\", \"Greater Major Wands\"]}\n];\nlet typeETreasure = [\n    {value: 200, rewardText: \"Masterwork Light Armor or Shield\", rewards: [\"Masterwork Light Armour or Shield\"]},\n    {value: 300, rewardText: \"Masterwork Medium Armor\", rewards: [\"Masterwork Medium Armours\"]},\n    {value: 350, rewardText: \"Masterwork Weapon\", rewards: [\"Masterwork Weapon Type\"]},\n    {value: 1000, rewardText: \"Masterwork Heavy Armor\", rewards: [\"Masterwork Heavy Armours\"]},\n    {value: 1500, rewardText: \"L.Min. Armor\", rewards: [\"Lesser Minor Armour and Shields\"]},\n    {value: 2500, rewardText: \"L.Min. Weapon\", rewards: [\"Lesser Minor Weapon\"]},\n    {value: 3000, rewardText: \"G.Min. Armor\", rewards: [\"Greater Minor Armour and Shields\"]},\n    {value: 3000, rewardText: \"Masterwork Medium Armor, Masterwork Shield, L.Min. Weapon\", rewards: [\"Masterwork Medium Armours\", \"Masterwork Shields\", \"Lesser Minor Weapon\"]},\n    {value: 4000, rewardText: \"L.Min. Armor, L.Min. Weapon\", rewards: [\"Lesser Minor Armour and Shields\", \"Lesser Minor Weapon\"]},\n    {value: 5500, rewardText: \"G.Min. Armor, L.Min. Weapon\", rewards: [\"Greater Minor Armour and Shields\", \"Lesser Minor Weapon\"]},\n    {value: 6000, rewardText: \"G.Min. Weapon\", rewards: [\"Greater Minor Weapon\"]},\n    {value: 7500, rewardText: \"L.Min. Armor, G.Min. Weapon\", rewards: [\"Lesser Minor Armour and Shields\", \"Greater Minor Weapon\"]},\n    {value: 8000, rewardText: \"G.Min. Armor, 2x L.Min. Weapons\", rewards: [\"Greater Minor Armour and Shields\", \"Lesser Minor Weapon\", \"Lesser Minor Weapon\"]},\n    {value: 9000, rewardText: \"G.Min. Armor, G.Min. Weapon\", rewards: [\"Greater Minor Armour and Shields\", \"Greater Minor Weapon\"]},\n    {value: 10000, rewardText: \"L.Med. Armor, L.Min. Weapon\", rewards: [\"Lesser Medium Armour and Shields\", \"Lesser Minor Weapon\"]},\n    {value: 13000, rewardText: \"L.Med. Weapon\", rewards: [\"Lesser Medium Weapon\"]},\n    {value: 13000, rewardText: \"L.Med. Armor, G.Min. Weapon\", rewards: [\"Lesser Medium Armour and Shields\", \"Greater Minor Weapon\"]},\n    {value: 15000, rewardText: \"G.Med. Armor, L.Min. Weapon\", rewards: [\"Greater Medium Armour and Shields\", \"Lesser Minor Weapon\"]},\n    {value: 20000, rewardText: \"L.Med. Armor, L.Med. Weapon\", rewards: [\"Lesser Medium Armour and Shields\", \"Lesser Medium Weapon\"]},\n    {value: 25000, rewardText: \"G.Min. Armor, G.Med. Weapon\", rewards: [\"Greater Minor Armour and Shields\", \"Greater Medium Weapon\"]},\n    {value: 30000, rewardText: \"L.Maj. Armor, L.Min. Weapon, G.Min. Weapon\", rewards: [\"Lesser Major Armour and Shields\", \"Lesser Minor Weapon\", \"Greater Minor Weapon\"]},\n    {value: 30000, rewardText: \"L.Med. Armor, G.Med. Weapon\", rewards: [\"Lesser Medium Armour and Shields\", \"Greater Medium Weapon\"]},\n    {value: 35000, rewardText: \"L.Maj. Armor, L.Med. Weapon\", rewards: [\"Lesser Major Armour and Shields\", \"Lesser Medium Weapon\"]},\n    {value: 35000, rewardText: \"L.Min. Armor, L.Maj. Weapon\", rewards: [\"Lesser Minor Armour and Shields\", \"Lesser Major Weapon\"]},\n    {value: 40000, rewardText: \"G.Maj. Armor, G.Min. Weapon\", rewards: [\"Greater Major Armour and Shields\", \"Greater Minor Weapon\"]},\n    {value: 50000, rewardText: \"G.Maj. Armor, L.Med. Weapon\", rewards: [\"Greater Major Armour and Shields\", \"Lesser Medium Weapon\"]},\n    {value: 75000, rewardText: \"G.Min. Armor, G.Maj. Weapon\", rewards: [\"Greater Minor Armour and Shields\", \"Greater Major Weapon\"]},\n    {value: 100000, rewardText: \"G.Maj. Armor, G.Maj. Weapon\", rewards: [\"Greater Major Armour and Shields\", \"Greater Major Weapon\"]}\n];\nlet typeFTreasure = [\n    {value: 50, rewardText: \"L.Min. Potion\", rewards: [\"Lesser Minor Potions\"]},\n    {value: 250, rewardText: \"Masterwork Light Armor or Shield, L.Min. Potion\", rewards: [\"Masterwork Light Armour or Shield\", \"Lesser Minor Potions\"]},\n    {value: 350, rewardText: \"Masterwork Medium Armor, L.Min. Potion\", rewards: [\"Masterwork Medium Armours\", \"Lesser Minor Potions\"]},\n    {value: 400, rewardText: \"Masterwork Weapon, L.Min. Potion\", rewards: [\"Masterwork Weapon\", \"Lesser Minor Potions\"]},\n    {value: 500, rewardText: \"Masterwork Weapon, G.Min. Potion\", rewards: [\"Masterwork Weapon\", \"Greater Minor Potions\"]},\n    {value: 750, rewardText: \"Masterwork Medium Armor, Masterwork Weapon, 2x L.Min. Potions\", rewards: [\"Masterwork Medium Armours\", \"Masterwork Weapon\", \"Lesser Minor Potions\", \"Lesser Minor Potions\"]},\n    {value: 1000, rewardText: \"Masterwork Heavy Armor\", rewards: [\"Masterwork Heavy Armours\"]},\n    {value: 1500, rewardText: \"Masterwork Heavy Armor, Masterwork Weapon, G.Min. Potion\", rewards: [\"Masterwork Heavy Armours\", \"Masterwork Weapon\", \"Greater Minor Potions\"]},\n    {value: 2000, rewardText: \"L.Min. Armor, Masterwork Weapon, 2x G.Min. Potions\", rewards: [\"Lesser Minor Armour and Shields\", \"Masterwork Weapon\", \"Greater Minor Potions\", \"Greater Minor Potions\"]},\n    {value: 3000, rewardText: \"Masterwork Medium Armor, L.Min. Weapon, G.Min. Potion\", rewards: [\"Masterwork Medium Armours\", \"Lesser Minor Weapon\", \"Greater Minor Potions\"]},\n    {value: 4000, rewardText: \"L.Min. Armor, Masterwork Weapon, L.Min. Wondrous Item, G.Min. Potion\", rewards: [\"Lesser Minor Armour and Shields\", \"Masterwork Weapon\", \"Lesser Minor Wondrous Item\", \"Greater Minor Potions\"]},\n    {value: 5000, rewardText: \"Masterwork Medium Armor, L.Min. Weapon, L.Min. Wondrous Item, G.Min. Potion\", rewards: [\"Masterwork Medium Armours\", \"Lesser Minor Weapon\", \"Lesser Minor Wondrous Item\", \"Greater Minor Potions\"]},\n    {value: 6000, rewardText: \"L.Min. Armor, L.Min. Weapon, L.Min. Wondrous Item\", rewards: [\"Lesser Minor Armour and Shields\", \"Lesser Minor Weapon\", \"Lesser Minor Wondrous Item\"]},\n    {value: 7500, rewardText: \"G.Min. Armor, L.Min. Weapon, L.Min. Ring\", rewards: [\"Greater Minor Armour and Shields\", \"Lesser Minor Weapon\", \"Lesser Minor Ring\"]},\n    {value: 10000, rewardText: \"G.Min. Armor, L.Min. Weapon, L.Min. Ring, L.Min. Wondrous Item, 3x G.Min. Potions\", rewards: [\"Greater Minor Armour and Shields\", \"Lesser Minor Weapon\", \"Lesser Minor Ring\", \"Lesser Minor Wondrous Item\", \"Greater Minor Potions\", \"Greater Minor Potions\", \"Greater Minor Potions\"]},\n    {value: 10000, rewardText: \"G.Min. Armor, G.Min. Weapon, 2x G.Med. Potions\", rewards: [\"Greater Minor Armour and Shields\", \"Greater Minor Weapon\", \"Greater Medium Potions\", \"Greater Medium Potions\"]},\n    {value: 12500, rewardText: \"G.Min. Armor, L.Min. Weapon, G.Min. Wondrous Item, 2x G.Med. Potions\", rewards: [\"Greater Minor Armour and Shields\", \"Lesser Minor Weapon\", \"Greater Minor Wondrous Item\", \"Greater Medium Potions\", \"Greater Medium Potions\"]},\n    {value: 15000, rewardText: \"G.Min. Armor, G.Min. Weapon, G.Min. Ring\", rewards: [\"Greater Minor Armour and Shields\", \"Greater Minor Weapon\", \"Greater Minor Ring\"]},\n    {value: 20000, rewardText: \"L.Med. Armor, G.Min. Weapon, G.Min. Wondrous Item, 2x G.Med. Potions\", rewards: [\"Lesser Medium Armour and Shields\", \"Greater Minor Weapon\", \"Greater Minor Wondrous Item\", \"Greater Medium Potions\", \"Greater Medium Potions\"]},\n    {value: 25000, rewardText: \"L.Med. Armor, L.Med. Weapon, L.Min. Ring, L.Min. Wondrous Item, 2x G.Med. Potions\", rewards: [\"Lesser Medium Armour and Shields\", \"Lesser Medium Weapon\", \"Lesser Minor Ring\", \"Lesser Minor Wondrous Item\", \"Greater Medium Potions\", \"Greater Medium Potions\"]},\n    {value: 30000, rewardText: \"L.Med. Armor, L.Med. Weapon, 2x L.Min. Rings, G.Min. Wondrous Items\", rewards: [\"Lesser Medium Armour and Shields\", \"Lesser Medium Weapon\", \"Lesser Minor Ring\", \"Lesser Minor Ring\", \"Greater Minor Wondrous Items\"]},\n    {value: 40000, rewardText: \"L.Med. Armor, L.Med. Weapon, L.Med. Ring, G.Min. Wondrous Item, 2x G.Med. Potions\", rewards: [\"Lesser Medium Armour and Shields\", \"Lesser Medium Weapon\", \"Lesser Medium Ring\", \"Greater Minor Wondrous Item\", \"Greater Medium Potions\", \"Greater Medium Potions\"]},\n    {value: 50000, rewardText: \"G.Med. Armor, G.Med. Weapon, L.Med. Wondrous Item, 2x L.Maj. Potions\", rewards: [\"Greater Medium Armour and Shields\", \"Greater Medium Weapon\", \"Lesser Medium Wondrous Item\", \"Lesser Major Potions\", \"Lesser Major Potions\"]},\n    {value: 60000, rewardText: \"G.Med. Armor, G.Med. Weapon, 2x G.Min. Rings, 2x G.Min. Wondrous Items\", rewards: [\"Greater Medium Armour and Shields\", \"Greater Medium Weapon\", \"Greater Minor Ring\", \"Greater Minor Ring\", \"Greater Minor Wondrous Item\", \"Greater Minor Wondrous Item\"]},\n    {value: 75000, rewardText: \"L.Maj. Armor, G.Med. Weapon, G.Min. Ring, G.Med. Wondrous Item, 3x G.Maj. Potions\", rewards: [\"Lesser Major Armour and Shields\", \"Greater Medium Weapon\", \"Greater Minor Ring\", \"Greater Medium Wondrous Item\", \"Greater Major Potions\", \"Greater Major Potions\", \"Greater Major Potions\"]},\n    {value: 100000, rewardText: \"L.Maj. Armor, L.Maj. Weapon, L.Med. Ring, G.Min. Ring, 2x L.Med. Wondrous Items\", rewards: [\"Lesser Major Armour and Shields\", \"Lesser Major Weapon\", \"Lesser Medium Ring\", \"Greater Minor Ring\", \"Lesser Medium Wondrous Item\", \"Lesser Medium Wondrous Item\"]},\n];\nlet typeGTreasure = [\n    {value: 50, rewardText: \"L.Min. Potion\", rewards: [\"Lesser Minor Potions\"]},\n    {value: 75, rewardText: \"L.Min. Potion, L.Min. Scroll\", rewards: [\"Lesser Minor Potions\", \"Lesser Minor Scrolls\"]},\n    {value: 100, rewardText: \"L.Min. Potion, 2x L.Min. Scrolls\", rewards: [\"Lesser Minor Potions\", \"Lesser Minor Scrolls\", \"Lesser Minor Scrolls\"]},\n    {value: 150, rewardText: \"L.Min. Scroll, G.Min. Scroll\", rewards: [\"Lesser Minor Scrolls\", \"Greater Minor Scrolls\"]},\n    {value: 200, rewardText: \"2x L.Min. Potions, G.Min. Scroll\", rewards: [\"Lesser Minor Potions\", \"Lesser Minor Potions\", \"Greater Minor Scrolls\"]},\n    {value: 250, rewardText: \"2x G.Min. Scrolls\", rewards: [\"Greater Minor Scrolls\", \"Greater Minor Scrolls\"]},\n    {value: 500, rewardText: \"3x L.Min. Potions, 3x G.Min. Scrolls\", rewards: [\"Lesser Minor Potions\", \"Lesser Minor Potions\", \"Lesser Minor Potions\", \"Greater Minor Scrolls\", \"Greater Minor Scrolls\", \"Greater Minor Scrolls\"]},\n    {value: 750, rewardText: \"G.Min. Potion, L.Min. Wand\", rewards: [\"Greater Minor Potions\", \"Lesser Minor Wands\"]},\n    {value: 1000, rewardText: \"3x G.Min. Scrolls, L.Min. Wand\", rewards: [\"Greater Minor Scrolls\", \"Greater Minor Scrolls\", \"Greater Minor Scrolls\", \"Lesser Minor Wands\"]},\n    {value: 1500, rewardText: \"L.Med. Potion, L.Med. Scroll, L.Min. Wand\", rewards: [\"Lesser Medium Potions\", \"Lesser Medium Scrolls\", \"Lesser Minor Wands\"]},\n    {value: 2000, rewardText: \"Masterwork Weapon, 2x L.Med. Scrolls, L.Min. Wand\", rewards: [\"Masterwork Weapon\", \"Lesser Medium Scrolls\", \"Lesser Medium Scrolls\", \"Lesser Minor Wands\"]},\n    {value: 2500, rewardText: \"2x G.Med. Potions, G.Min. Wand\", rewards: [\"Greater Medium Potions\", \"Greater Medium Potions\", \"Greater Minor Wands\"]},\n    {value: 3000, rewardText: \"G.Med. Potion, 2x L.Med. Scrolls, G.Min. Wand\", rewards: [\"Greater Medium Potions\", \"Lesser Medium Scrolls\", \"Lesser Medium Scrolls\", \"Greater Minor Wands\"]},\n    {value: 4000, rewardText: \"L.Min. Wondrous Item, G.Med. Potion, G.Min. Wand\", rewards: [\"Lesser Minor Wondrous Item\", \"Greater Medium Potions\", \"Greater Minor Wands\"]},\n    {value: 5000, rewardText: \"L.Min. Ring, L.Min. Wondrous Item, 2x L.Med. Scrolls\", rewards: [\"Lesser Minor Ring\", \"Lesser Minor Wondrous Item\", \"Lesser Medium Scrolls\", \"Lesser Medium Scrolls\"]},\n    {value: 6000, rewardText: \"L.Min. Ring, L.Min. Wondrous Item, G.Med. Potion, G.Min. Wand\", rewards: [\"Lesser Minor Ring\", \"Lesser Minor Wondrous Item\", \"Greater Medium Potions\", \"Greater Minor Wands\"]},\n    {value: 7500, rewardText: \"2x G.Med. Potions, L.Min. Scroll, L.Med. Wand\", rewards: [\"Greater Medium Potions\", \"Greater Medium Potions\", \"Lesser Minor Scrolls\", \"Lesser Medium Wands\"]},\n    {value: 10000, rewardText: \"L.Min. Ring, L.Min. Wondrous Item, L.Med. Wand\", rewards: [\"Lesser Minor Ring\", \"Lesser Minor Wondrous Item\", \"Lesser Medium Wands\"]},\n    {value: 12500, rewardText: \"L.Min. Ring, G.Min. Wondrous Item, 2x G.Med. Scrolls, 2x G.Min. Wands\", rewards: [\"Lesser Minor Ring\", \"Greater Minor Wondrous Item\", \"Greater Medium Scrolls\", \"Greater Medium Scrolls\", \"Greater Minor Wands\", \"Greater Minor Wands\"]},\n    {value: 15000, rewardText: \"L.Min. Ring, L.Med. Rod, L.Med. Wand\", rewards: [\"Lesser Minor Ring\", \"Lesser Medium Rods\", \"Lesser Medium Wands\"]},\n    {value: 20000, rewardText: \"G.Min. Ring, G.Min. Wondrous Item, G.Med. Potion, 2x G.Med. Scrolls, L.Med. Wand\", rewards: [\"Greater Minor Ring\", \"Greater Minor Wondrous Item\", \"Greater Medium Potions\", \"Greater Medium Scrolls\", \"Greater Medium Scrolls\", \"Lesser Medium Wands\"]},\n    {value: 25000, rewardText: \"L.Min. Ring, L.Med. Wand, G.Med. Wand, G.Min. Wondrous Item\", rewards: [\"Lesser Minor Ring\", \"Lesser Medium Wands\", \"Greater Medium Wands\", \"Greater Minor Wondrous Item\"]},\n    {value: 30000, rewardText: \"G.Min. Ring, L.Med. Wondrous Item, L.Maj. Scroll, G.Med. Wand\", rewards: [\"Greater Minor Ring\", \"Lesser Medium Wondrous Item\", \"Lesser Major Scrolls\", \"Greater Medium Wands\"]},\n    {value: 40000, rewardText: \"L.Min. Weapon, L.Med. Staff, G.Med. Rod, 2x L.Min. Wondrous Items, L.Med. Wand\", rewards: [\"Lesser Minor Weapon\", \"Lesser Medium Staff\", \"Greater Medium Rods\", \"Lesser Minor Wondrous Item\", \"Lesser Minor Wondrous Item\", \"Lesser Medium Wands\"]},\n    {value: 50000, rewardText: \"G.Min. Ring, 2x L.Med. Wondrous Items, L.Maj. Potion, 3x G.Med. Scrolls, L.Maj. Wand\", rewards: [\"Greater Minor Ring\", \"Lesser Medium Wondrous Item\", \"Lesser Medium Wondrous Item\", \"Lesser Major Potions\", \"Greater Medium Scrolls\", \"Greater Medium Scrolls\", \"Greater Medium Scrolls\", \"Lesser Major Wands\"]},\n    {value: 60000, rewardText: \"L.Med. Staff, G.Med. Rod, G.Med. Wondrous Item, G.Med. Potion, 2x L.Maj. Scrolls, L.Med. Wand\", rewards: [\"Lesser Medium Staff\", \"Greater Medium Rods\", \"Greater Medium Wondrous Item\", \"Greater Medium Potions\", \"Lesser Major Scrolls\", \"Lesser Major Scrolls\", \"Lesser Medium Wands\"]},\n    {value: 75000, rewardText: \"L.Min. Weapon, G.Med. Staff, G.Med. Wondrous Item, 3x G.Maj. Scrolls, G.Maj. Wand\", rewards: [\"Lesser Minor Weapon\", \"Greater Medium Staff\", \"Greater Medium Wondrous Item\", \"Greater Major Scrolls\", \"Greater Major Scrolls\", \"Greater Major Scrolls\", \"Greater Major Wands\"]},\n    {value: 100000, rewardText: \"L.Maj. Ring, G.Med. Rod, L.Maj. Staff, L.Maj. Scroll, G.Med. Wand\", rewards: [\"Lesser Major Ring\", \"Greater Medium Rods\", \"Lesser Major Staff\", \"Lesser Major Scrolls\", \"Greater Medium Wands\"]}\n];\nlet typeHTreasure = [\n    {value: 500, rewardText: \"Avg 70.5 gp, Masterwork Weapon, L.Min. Potion, L.Min. Scroll, Gr. 2 Gemstone\", rewards: [\"4d4 * 100 cp\", \"3d6 * 10 sp\", \"2d4 * 10 gp\", \"Masterwork Weapon\", \"Lesser Minor Potions\", \"Lesser Minor Scrolls\", \"Grade 2 Gemstones\"]},\n    {value: 1000, rewardText: \"Avg 96 gp, G.Min. Potion, G.Min. Scroll, L.Min. Wand, 3x Gr. 1 Gemstones\", rewards: [\"2d4 * 100 cp\", \"2d6 * 100 sp\", \"6d6 gp\", \"Greater Minor Potions\", \"Greater Minor Scrolls\", \"Lesser Minor Wands\", \"Grade 1 Gemstones\", \"Grade 1 Gemstones\", \"Grade 1 Gemstones\"]},\n    {value: 2500, rewardText: \"Avg 15.5 gp, Masterwork Heavy Armor, Masterwork Weapon, 2x L.Med. Potions, 2x G.Min. Scrolls, Gr. 2 Gemstone\", rewards: [\"3d6 * 10 sp\", \"2d4 gp\", \"Masterwork Heavy Armours\", \"Masterwork Weapon\", \"Lesser Medium Potions\", \"Lesser Medium Potions\", \"Greater Minor Scrolls\", \"Greater Minor Scrolls\", \"Grade 2 Gemstones\"]},\n    {value: 5000, rewardText: \"Avg 190 gp, Masterwork Weapon, L.Min. Ring, G.Med. Potion, L.Med. Scroll, G.Min. Wand\", rewards: [\"2d4 * 10 gp\", \"4d6 pp\", \"Masterwork Weapon\", \"Lesser Minor Ring\", \"Greater Medium Potions\", \"Lesser Medium Scrolls\", \"Greater Minor Wands\"]},\n    {value: 7500, rewardText: \"Avg 310 gp, L.Min. Weapon, L.Min. Wondrous Item, 2x G.Med. Potions, G.Min. Wand, 2x Gr. 3 Gemstones\", rewards: [\"4d4 * 10 gp\", \"6d6 pp\", \"Lesser Minor Weapon\", \"Lesser Minor Wondrous Item\", \"Greater Medium Potions\", \"Greater Medium Potions\", \"Greater Minor Wands\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\"]},\n    {value: 10000, rewardText: \"Avg 430 gp, G.Min. Armor, L.Min. Ring, L.Min. Wondrous Item, L.Med. Scroll, G.Min. Wand, Gr. 4 Gemstone\", rewards: [\"4d8 * 10 gp\", \"6d10 pp\", \"Greater Minor Armour and Shields\", \"Lesser Minor Ring\", \"Lesser Minor Wondrous Item\", \"Lesser Medium Scrolls\", \"Greater Minor Wands\", \"Grade 4 Gemstones\"]},\n    {value: 15000, rewardText: \"Avg 1100 gp, G.Min. Armor, L.Min. Wondrous Item, 2x G.Med. Potions, 2x G.Med. Scrolls, L.Med. Wand, Gr. 3 Gemstone\", rewards: [\"4d4 * 10 gp\", \"4d4 * 10 pp\", \"Greater Minor Armour and Shields\", \"Lesser Minor Wondrous Item\", \"Greater Medium Potions\", \"Greater Medium Potions\", \"Greater Medium Scrolls\", \"Greater Medium Scrolls\", \"Lesser Medium Wands\", \"Grade 3 Gemstones\"]},\n    {value: 20000, rewardText: \"Avg 500 gp, G.Min. Ring, 2x L.Min. Wondrous Items, 2x G.Med. Potions, 2x L.Maj. Scrolls, L.Med. Wand\", rewards: [\"2d4 * 10 pp\", \"Greater Minor Ring\", \"Lesser Minor Wondrous Item\", \"Lesser Minor Wondrous Item\", \"Greater Medium Potions\", \"Greater Medium Potions\", \"Lesser Major Scrolls\", \"Lesser Major Scrolls\", \"Lesser Medium Wands\"]},\n    {value: 25000, rewardText: \"Avg 540 gp, L.Med. Armor, L.Min. Weapon, G.Min. Wondrous Item, 2x L.Maj. Scrolls, L.Med. Wand, Gr. 4 Gemstone\", rewards: [\"6d10 * 10 gp\", \"6d6 pp\", \"Lesser Medium Armour and Shields\", \"Lesser Minor Weapon\", \"Greater Minor Wondrous Item\", \"Lesser Major Scrolls\", \"Lesser Major Scrolls\", \"Lesser Medium Wands\", \"Grade 4 Gemstones\"]},\n    {value: 30000, rewardText: \"Avg 260 gp, G.Min. Weapon, L.Med. Wondrous Item, G.Med. Wand, 3x Gr. 3 Gemstones\", rewards: [\"6d6 * 10 gp\", \"2d4 * 10 pp\", \"Greater Minor Weapon\", \"Lesser Medium Wondrous Item\", \"Greater Medium Wands\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\"]},\n    {value: 40000, rewardText: \"Avg 1100 gp, L.Med. Ring, L.Med. Rod, 2x G.Maj. Potions, 2x L.Maj. Scrolls, L.Maj. Wand\", rewards: [\"4d4 * 10 gp\", \"4d4 * 10 pp\", \"Lesser Medium Ring\", \"Lesser Medium Rods\", \"Greater Major Potions\", \"Greater Major Potions\", \"Lesser Major Scrolls\", \"Lesser Major Scrolls\", \"Lesser Major Wands\"]},\n    {value: 50000, rewardText: \"Avg 100 gp, G.Med. Armor, L.Med. Staff, L.Med. Wondrous Item, G.Maj. Scroll, L.Med. Wand, Gr. 5 Gemstone\", rewards: [\"4d4 * 10 pp\", \"Greater Medium Armour and Shields\", \"Lesser Medium Staff\", \"Lesser Medium Wondrous Item\", \"Greater Major Scrolls\", \"Lesser Medium Wands\", \"Grade 5 Gemstones\"]},\n    {value: 75000, rewardText: \"Avg 1000 gp, G.Min. Weapon, G.Med. Ring, G.Med. Staff, 3x G.Maj. Potions, G.Maj. Scroll, L.Maj. Wand, Gr. 5 Gemstone\", rewards: [\"2d8 * 100 gp\", \"4d4 * 10 pp\", \"Greater Minor Weapon\", \"Greater Medium Ring\", \"Greater Medium Staff\", \"Greater Major Potions\", \"Greater Major Potions\", \"Greater Major Potions\", \"Greater Major Scrolls\", \"Lesser Major Wands\", \"Grade 5 Gemstones\"]},\n    {value: 100000, rewardText: \"Avg 2900 gp, L.Maj. Ring, L.Maj. Wondrous Item, 3x G.Maj. Potions, G.Maj. Scroll, L.Med. Wand, 2x Gr. 5 Gemstones, Gr. 6 Gemstone\", rewards: [\"8d6 * 100 gp\", \"4d4 * 10 pp\", \"Lesser Major Ring\", \"Lesser Major Wondrous Item\", \"Greater Major Potions\", \"Greater Major Potions\", \"Greater Major Potions\", \"Greater Major Scrolls\", \"Lesser Medium Wands\", \"Grade 5 Gemstones\", \"Grade 5 Gemstones\", \"Grade 6 Gemstones\"]},\n];\nlet typeITreasure = [\n    {value: 5000, rewardText: \"Avg 1020 gp, L.Min. Armor, G.Min. Wand, 5x Gr. 3 Gemstones, Gr. 3 Art Object\", rewards: [\"4d4 * 1000 cp\", \"6d6 * 100 sp\", \"2d4 * 100 gp\", \"6d6 pp\", \"Lesser Minor Armour and Shields\", \"Greater Minor Wands\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Art Objects\"]},\n    {value: 10000, rewardText: \"Avg 1020 gp, G.Min. Armor, L.Min. Weapon, L.Min. Wondrous Item, G.Med. Scroll, Gr. 4 Gemstone, Gr. 3 Art Object\", rewards: [\"4d4 * 1000 cp\", \"6d6 * 100 sp\", \"2d4 * 100 gp\", \"6d6 pp\", \"Greater Minor Armour and Shields\", \"Lesser Minor Weapon\", \"Lesser Minor Wondrous Item\", \"Greater Medium Scrolls\", \"Grade 4 Gemstones\", \"Grade 3 Art Objects\"]},\n    {value: 15000, rewardText: \"Avg 515 gp, G.Min. Ring, 2x L.Min. Wondrous Items, 2x G.Med. Potions, G.Min. Wand, Gr. 4 Gemstone, Gr. 3 Art Object\", rewards: [\"2d4 * 1000 cp\", \"6d4 * 100 sp\", \"3d6 * 10 gp\", \"6d6 pp\", \"Greater Minor Ring\", \"Lesser Minor Wondrous Item\", \"Lesser Minor Wondrous Item\", \"Greater Medium Potions\", \"Greater Medium Potions\", \"Greater Minor Wands\", \"Grade 4 Gemstones\", \"Grade 3 Art Objects\"]},\n    {value: 20000, rewardText: \"Avg 515 gp, G.Min. Armor, L.Med. Rod, G.Min. Wondrous Item, 2x L.Maj. Potions, G.Med. Scroll, 3x Gr. 3 Art Objects\", rewards: [\"2d4 * 1000 cp\", \"6d4 * 100 sp\", \"3d6 * 10 gp\", \"6d6 pp\", \"Greater Minor Armour and Shields\", \"Lesser Medium Rods\", \"Greater Minor Wondrous Item\", \"Lesser Major Potions\", \"Lesser Major Potions\", \"Greater Medium Scrolls\", \"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 3 Art Objects\"]},\n    {value: 25000, rewardText: \"Avg 515 gp, L.Med. Staff, 2x L.Min. Wondrous Items, G.Med. Potion, L.Med. Wand, 2x Gr. 2 Gemstones, 2x Gr. 3 Gemstones, Gr. 4 Gemstone\", rewards: [\"2d4 * 1000 cp\", \"6d4 * 100 sp\", \"3d6 * 10 gp\", \"6d6 pp\", \"Lesser Medium Staff\", \"Lesser Minor Wondrous Item\", \"Lesser Minor Wondrous Item\", \"Greater Medium Potions\", \"Lesser Medium Wands\", \"Grade 2 Gemstones\", \"Grade 2 Gemstones\", \"Grade 3 Gemstones\", \"Grade 3 Gemstones\", \"Grade 4 Gemstones\"]},\n    {value: 30000, rewardText: \"Avg 515 gp, L.Med. Armor, G.Min. Weapon, L.Med. Wondrous Item, 2x L.Maj. Scrolls, Gr. 4 Art Object\", rewards: [\"2d4 * 1000 cp\", \"6d4 * 100 sp\", \"3d6 * 10 gp\", \"6d6 pp\", \"Lesser Medium Armour and Shields\", \"Greater Minor Weapon\", \"Lesser Medium Wondrous Item\", \"Lesser Major Scrolls\", \"Lesser Major Scrolls\", \"Grade 4 Art Objects\"]},\n    {value: 40000, rewardText: \"Avg 1020 gp, L.Med. Weapon, G.Med. Rod, G.Maj. Potion, G.Med. Scroll, L.Med. Wand, 3x Gr. 3 Art Objects, 2x Gr. 4 Art Objects\", rewards: [\"4d4 * 1000 cp\", \"6d6 * 100 sp\", \"2d4 * 100 gp\", \"6d6 pp\", \"Lesser Medium Weapon\", \"Greater Medium Rods\", \"Greater Major Potions\", \"Greater Medium Scrolls\", \"Lesser Medium Wands\", \"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 3 Art Objects\", \"Grade 4 Art Objects\", \"Grade 4 Art Objects\"]},\n    {value: 50000, rewardText: \"Avg 4150 gp, G.Min. Armor, 2x G.Min. Weapons, G.Med. Staff, G.Min. Wondrous Item, Gr. 5 Gemstone\", rewards: [\"4d4 * 10000 cp\", \"6d6 * 1000 sp\", \"4d4 * 100 gp\", \"2d4 * 10 pp\", \"Greater Minor Armour and Shields\", \"Greater Minor Weapon\", \"Greater Minor Weapon\", \"Greater Medium Staff\", \"Greater Minor Wondrous Item\", \"Grade 5 Gemstones\"]},\n    {value: 60000, rewardText: \"Avg 1550 gp, G.Med. Weapon, G.Med. Rod, L.Med. Wondrous Item, G.Maj. Scroll, 2x G.Min. Wands, Gr. 4 Gemstone, 5x Gr. 2 Art Objects\", rewards: [\"2d4 * 10000 cp\", \"2d4 * 1000 sp\", \"2d4 * 100 gp\", \"2d4 * 10 pp\", \"Greater Medium Weapon\", \"Greater Medium Rods\", \"Lesser Medium Wondrous Item\", \"Greater Major Scrolls\", \"Greater Minor Wands\", \"Greater Minor Wands\", \"Grade 4 Gemstones\", \"Grade 2 Art Objects\", \"Grade 2 Art Objects\", \"Grade 2 Art Objects\", \"Grade 2 Art Objects\", \"Grade 2 Art Objects\"]},\n    {value: 75000, rewardText: \"Avg 1550 gp, L.Maj. Armor, G.Med. Ring, L.Med. Staff, G.Med. Wand, Gr. 6 Gemstone, Gr. 4 Art Object\", rewards: [\"2d4 * 10000 cp\", \"2d4 * 1000 sp\", \"2d4 * 100 gp\", \"2d4 * 10 pp\", \"Lesser Major Armour and Shields\", \"Greater Medium Ring\", \"Lesser Medium Staff\", \"Greater Medium Wands\", \"Grade 6 Gemstones\", \"Grade 4 Art Objects\"]},\n    {value: 100000, rewardText: \"Avg 1550 gp, L.Med. Weapon, G.Med. Ring, L.Maj. Rod, G.Med. Wondrous Item, 2x G.Maj. Potions, L.Med. Scroll, 2x Gr. 4 Art Objects\", rewards: [\"2d4 * 10000 cp\", \"2d4 * 1000 sp\", \"2d4 * 100 gp\", \"2d4 * 10 pp\", \"Lesser Medium Weapon\", \"Greater Medium Ring\", \"Lesser Major Rods\", \"Greater Medium Wondrous Item\", \"Greater Major Potions\", \"Greater Major Potions\", \"Lesser Medium Scrolls\", \"Grade 4 Art Objects\", \"Grade 4 Art Objects\"]},\n    {value: 125000, rewardText: \"Avg 4190 gp, G.Maj. Armor, L.Med. Weapon, L.Maj. Staff, 2x G.Maj. Scrolls, G.Maj. Wand, Gr. 6 Gemstone, 3x Gr. 4 Art Objects\", rewards: [\"4d4 * 10000 cp\", \"6d6 * 1000 sp\", \"4d4 * 100 gp\", \"2d8 * 10 pp\", \"Greater Major Armour and Shields\", \"Lesser Medium Weapon\", \"Lesser Major Staff\", \"Greater Major Scrolls\", \"Greater Major Scrolls\", \"Greater Major Wands\", \"Grade 6 Gemstones\", \"Grade 4 Art Objects\", \"Grade 4 Art Objects\", \"Grade 4 Art Objects\"]},\n    {value: 150000, rewardText: \"Avg 4190 gp, G.Med. Armor, L.Maj. Ring, G.Maj. Wondrous Item, G.Maj. Wand\", rewards: [\"4d4 * 10000 cp\", \"6d6 * 1000 sp\", \"4d4 * 100 gp\", \"2d8 * 10 pp\", \"Greater Medium Armour and Shields\", \"Lesser Major Ring\", \"Greater Major Wondrous Item\", \"Greater Major Wands\"]},\n    {value: 200000, rewardText: \"Avg 4190 gp, G.Maj. Weapon, 2x L.Med. Rings, L.Maj. Staff, L.Maj. Wondrous Item, L.Maj. Wand, 3x Gr. 5 Gemstones, Gr. 4 Gemstone\", rewards: [\"4d4 * 10000 cp\", \"6d6 * 1000 sp\", \"4d4 * 100 gp\", \"2d8 * 10 pp\", \"Greater Major Weapon\", \"Lesser Medium Ring\", \"Lesser Medium Ring\", \"Lesser Major Staff\", \"Lesser Major Wondrous Item\", \"Lesser Major Wands\", \"Grade 5 Gemstones\", \"Grade 5 Gemstones\", \"Grade 5 Gemstones\", \"Grade 4 Gemstones\"]},\n    {value: 300000, rewardText: \"Avg 8290 gp, G.Maj. Weapon, L.Maj. Ring, G.Maj. Staff, G.Maj. Wondrous Item, G.Med. Wand, Gr. 6 Gemstone, Gr. 6 Art Object\", rewards: [\"8d4 * 10000 cp\", \"12d6 * 1000 sp\", \"8d4 * 100 gp\", \"2d8 * 10 pp\", \"Greater Major Weapon\", \"Lesser Major Ring\", \"Greater Major Staff\", \"Greater Major Wondrous Item\", \"Greater Medium Wands\", \"Grade 6 Gemstones\", \"Grade 6 Art Objects\"]},\n];\n\nlet treasureTypes = [typeATreasure, typeBTreasure, typeCTreasure, typeDTreasure, typeETreasure, typeFTreasure, typeGTreasure, typeHTreasure, typeITreasure];\n\nlet slowBudgets = [170, 350, 550, 750, 1000, 1350, 1750, 2200, 2850, 3650, 4650, 6000, 7750, 10000, 13000, 16500, 22000, 28000, 35000, 44000];\nlet medBudgets = [260, 550, 800, 1150, 1550, 2000, 2600, 3350, 4250, 5450, 7000, 9000, 11600, 15000, 19500, 25000, 32000, 41000, 53000, 67000];\nlet fastBudgets = [400, 800, 1200, 1700, 2300, 3000, 3900, 5000, 6400, 8200, 10500, 13500, 17500, 22000, 29000, 38000, 48000, 62000, 79000, 100000];\n\nlet budget = 0;\n\nfunction customizeTypes(types) {\n    const aChecked = (types.includes(\"A\") ? \"checked\" : \"\");\n    const bChecked = (types.includes(\"B\") ? \"checked\" : \"\");\n    const cChecked = (types.includes(\"C\") ? \"checked\" : \"\");\n    const dChecked = (types.includes(\"D\") ? \"checked\" : \"\");\n    const eChecked = (types.includes(\"E\") ? \"checked\" : \"\");\n    const fChecked = (types.includes(\"F\") ? \"checked\" : \"\");\n    const gChecked = (types.includes(\"G\") ? \"checked\" : \"\");\n    const hChecked = (types.includes(\"H\") ? \"checked\" : \"\");\n    const iChecked = (types.includes(\"I\") ? \"checked\" : \"\");\n    \n    let d = new Dialog({\n      title: 'Treasure Generator',\n      content: `\n        <form class=\"flexcol\">\n            <div class=\"form-group\">\n                <p>\n                    <label>\n                        <input type=\"checkbox\" name=\"TypeA\" value=\"A\" id=\"TypeA\" ${aChecked}>\n                        Type A: Coins</label>\n                    <br>\n                    <label>\n                        <input type=\"checkbox\" name=\"TypeB\" value=\"B\" id=\"TypeB\" ${bChecked}>\n                        Type B: Coins and Gems</label>\n                    <br>\n                    <label>\n                        <input type=\"checkbox\" name=\"TypeC\" value=\"C\" id=\"TypeC\" ${cChecked}>\n                        Type C: Art Objects</label>\n                    <br>\n                    <label>\n                        <input type=\"checkbox\" name=\"TypeD\" value=\"D\" id=\"TypeD\" ${dChecked}>\n                        Type D: Coins and Small Objects</label>\n                    <br>\n                    <label>\n                        <input type=\"checkbox\" name=\"TypeE\" value=\"E\" id=\"TypeE\" ${eChecked}>\n                        Type E: Armor and Weapons</label>\n                    <br>\n                    <label>\n                        <input type=\"checkbox\" name=\"TypeF\" value=\"F\" id=\"TypeF\" ${fChecked}>\n                        Type F: Combatant Gear</label>\n                    <br>\n                    <label>\n                        <input type=\"checkbox\" name=\"TypeG\" value=\"G\" id=\"TypeG\" ${gChecked}>\n                        Type G: Spellcaster Gear</label>\n                    <br>\n                    <label>\n                        <input type=\"checkbox\" name=\"TypeH\" value=\"H\" id=\"TypeH\" ${hChecked}>\n                        Type H: Lair Treasure</label>\n                    <br>\n                    <label>\n                        <input type=\"checkbox\" name=\"TypeI\" value=\"I\" id=\"TypeI\" ${iChecked}>\n                        Type I: Treasure Hoard</label>\n                    <br>\n                </p>\n            </div>\n        </form>\n      `,\n      buttons: {\n        roll: {\n          icon: '<i class=\"fas fa-dice-d20\"></i>',\n          label: 'Roll Treasure',\n          callback: (html) => {\n            let checkedList = html.find('[type=\"checkbox\"]:checked');\n            let typeList = \"\";\n            for (var i=0; i<checkedList.length; i++) {\n                typeList += checkedList[i].value;\n            }\n            buildTreasure(typeList);\n          }\n        },\n      },\n      default: 'roll',\n    }).render(true);\n}\n\nconst buildSelectors = function(selectedTypes) {\n    let possibleTypes = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\"];\n    let selectorsMsg = \"\";\n    \n    possibleTypes.forEach(function(type, index) {\n        if (selectedTypes.includes(type)) {\n            let selectorList = treasureTypes[index].filter(o => o.value <= budget);\n            selectorsMsg += `<div class=\"form-group fexrow\" style=\"flex: 1\"><label>Type ${type} Treasures</label><select name=\"${type}Select\" id=\"${type}Select\" style=\"flex:15;\" ${selectorList.length === 0 ? \"disabled\": \"\"}>`;\n            selectorsMsg += createOptions(type);\n            /*if (selectorList.length === 0) {\n                selectorsMsg += `<option value=\"0\" disabled>No Options in Budget Range</option>`\n            } else {\n                selectorList.forEach(function(item, index) {\n                    selectorsMsg += `<option value=\"${index}\">${item.value} gp:\t${item.rewardText}</option>`;\n                });\n            }*/\n            selectorsMsg += `</select> \n                <input type=\"button\" class=\"addButton\" style=\"flex:1;\" value=\"+ Add\" name=\"${type}\" id=\"${type}AddButton\" ${selectorList.length === 0 ? \"disabled\": \"\"}>\n                </div>`;\n        }\n    });\n    \n    return selectorsMsg;\n};\n\nlet treasureHoard = [];\n\nfunction buildTreasure(types) {\n    let selectorsMsg = buildSelectors(types);\n    \n    let x = new Dialog({\n      title: 'Treasure Generator',\n      content: `\n        <form class=\"flexcol\" name=\"${types}\">\n            <div name=\"treasureBudget\"><h1>Budget: ${budget} gp</h1></div>\n            ${selectorsMsg}\n            <p>&bull; Currency Rolls Displayed as Average Total But Will Be Rolled Amounts of Various Currency</p>\n            <p>&bull; Abbreviation Legend: L.Min. - Lesser Minor | G.Min. - Greater Minor | Med. - Medium | Maj. - Major | Gr. - Grade</p>\n        </form>\n        <div class=\"form-group\" style=\"height: 300px; max-height: 300px; overflow-y: scroll;\">\n            <h2>Treasure List:</h2>\n        </div>\n        <style>.addButton {margin-left: 5px; border: 2px groove #f0f0e0; background: rgba(0, 0, 0, 0.1); font-family: \"Signika\", sans-serif; border-radius: 3px;}\n        .addButton:hover{outline: none; box-shadow: 0 0 5px red;} .addButton:disabled {color: #4b4a44; box-shadow: none;}\n        </style>\n      `,\n      buttons: {\n        roll: {\n          icon: '<i class=\"fas fa-dice-d20\"></i>',\n          label: 'Roll Treasure',\n          callback: (html) => {\n            rollWindow();\n          }\n        },\n      },\n      render: (htm) => {\n          htm.find('.addButton').click(addTreasure.bind(this));\n      },\n    }, {width: 1200, height: {}, resizable: false}).render(true);\n}\n\nlet cpRolls = \"\";\nlet spRolls = \"\";\nlet gpRolls = \"\";\nlet ppRolls = \"\";\n\nfunction copperRoll(event) {\n\tlet buttonClicked = event.target;\n    buttonClicked.style.background = \"red\";\n\tlet r = new Roll(cpRolls).roll();\n\tr.toMessage({flavor: '<h2>Copper Pieces in Treasure:</h2>'});\n}\n\nfunction silverRoll(event) {\n\tlet buttonClicked = event.target;\n    buttonClicked.style.background = \"red\";\n\tlet r = new Roll(spRolls).roll();\n\tr.toMessage({flavor: '<h2>Silver Pieces in Treasure:</h2>'});\n}\n\nfunction goldRoll(event) {\n\tlet buttonClicked = event.target;\n    buttonClicked.style.background = \"red\";\n\tlet r = new Roll(gpRolls).roll();\n\tr.toMessage({flavor: '<h2>Gold Pieces in Treasure:</h2>'});\n}\n\nfunction platRoll(event) {\n\tlet buttonClicked = event.target;\n    buttonClicked.style.background = \"red\";\n\tlet r = new Roll(ppRolls).roll();\n\tr.toMessage({flavor: '<h2>Platinum Pieces in Treasure:</h2>'});\n}\n\nfunction rollWindow() {\n    let contentMsg = \"<ul>\";\n    \n\t// build currency rolls\n    treasureHoard.forEach(function(item) {\n\t\tif (item.includes(\"cp\")) {\n\t\t\tif (cpRolls === \"\") {\n\t\t\t\tcpRolls += \"(\" + item.substring(0, item.length - 3) + \")\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcpRolls += \" + (\" + item.substring(0, item.length - 3) + \")\";\n\t\t\t}\n\t\t}\n\t\telse if (item.includes(\"sp\")) {\n\t\t\tif (spRolls === \"\") {\n\t\t\t\tspRolls += \"(\" + item.substring(0, item.length - 3) + \")\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tspRolls += \" + (\" + item.substring(0, item.length - 3) + \")\";\n\t\t\t}\n\t\t}\n\t\telse if (item.includes(\"gp\")) {\n\t\t\tif (gpRolls === \"\") {\n\t\t\t\tgpRolls += \"(\" + item.substring(0, item.length - 3) + \")\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgpRolls += \" + (\" + item.substring(0, item.length - 3) + \")\";\n\t\t\t}\n\t\t}\n\t\telse if (item.includes(\"pp\")) {\n\t\t\tif (ppRolls === \"\") {\n\t\t\t\tppRolls += \"(\" + item.substring(0, item.length - 3) + \")\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tppRolls += \" + (\" + item.substring(0, item.length - 3) + \")\";\n\t\t\t}\n\t\t}\n\t});\n\t\n\t\n\ttreasureHoard = treasureHoard.filter(reward => !reward.includes(\" cp\"));\n\ttreasureHoard = treasureHoard.filter(reward => !reward.includes(\" sp\"));\n\ttreasureHoard = treasureHoard.filter(reward => !reward.includes(\" gp\"));\n\ttreasureHoard = treasureHoard.filter(reward => !reward.includes(\" pp\"));\n\t\n\tif (cpRolls.length > 0) {\n\t\tcontentMsg += \"<li>\" + cpRolls + ` CP <input type=\"button\" id=\"copperRoll\" value=\"ROLL\"></li>`;\n\t}\n\tif (spRolls.length > 0) {\n\t\tcontentMsg += \"<li>\" + spRolls + ` SP <input type=\"button\" id=\"silverRoll\" value=\"ROLL\"></li>`;\n\t}\n\tif (gpRolls.length > 0) {\n\t\tcontentMsg += \"<li>\" + gpRolls + ` GP <input type=\"button\" id=\"goldRoll\" value=\"ROLL\"></li>`;\n\t}\n\tif (ppRolls.length > 0) {\n\t\tcontentMsg += \"<li>\" + ppRolls + ` PP <input type=\"button\" id=\"platRoll\" value=\"ROLL\"></li>`;\n\t}\n\t\n\t// other rolls\n\ttreasureHoard.sort();\n\ttreasureHoard.forEach(function(item) {\n\t\tif (item.includes(\"Masterwork\")) {\n\t\t\tcontentMsg += \"<li>\" + item + ` <input type=\"button\" name=\"${item.substring(11)}\" class=\"tableRoll\" value=\"ROLL\"></li>`;\n\t\t}\n\t\telse {\n\t\t\tcontentMsg += \"<li>\" + item + ` <input type=\"button\" name=\"${item}\" class=\"tableRoll\" value=\"ROLL\"></li>`;\n\t\t}\n\t});\n    \n    let x = new Dialog({\n      title: 'Treasure Generator',\n      content: `\n        <div class=\"form-group\" style=\"height: 500px; max-height: 500px; overflow-y: scroll;\">\n            <h2>Treasure List:</h2>\n            ${contentMsg}</ul>\n        </div>\n        <style>ul li{margin-bottom: .2em}</style>\n      `,\n      buttons: {\n        close: {\n          icon: '<i class=\"fas fa-tick\"></i>',\n          label: 'Close'\n        },\n      },\n\t  default: \"close\",\n\t  close: () => {},\n      render: (htm) => {\n          htm.find('#copperRoll').click(copperRoll.bind(this));\n          htm.find('#silverRoll').click(silverRoll.bind(this));\n          htm.find('#goldRoll').click(goldRoll.bind(this));\n          htm.find('#platRoll').click(platRoll.bind(this));\n\t\t  htm.find('.tableRoll').click(tableRoll.bind(this));\n      },\n    }, {width: 800, height: {}, resizable: false}).render(true);\n}\n\nasync function tableRoll(event) {\n\tlet buttonClicked = event.target;\n\t//console.log(event);\n    buttonClicked.style.background = \"red\";\n\tlet tableToRoll = buttonClicked.name;\n    let masterwork = buttonClicked.parentElement.innerHTML.includes(\"Masterwork\");\n    \n    let compendiumTables = await game.packs.get(\"pf1e-treasure-generator.tables\").getContent();\n    let table = await compendiumTables.find(o => o.name === tableToRoll);\n    let originalTable = table;\n    let result = await table.roll();\n    let resultsQueue = [];\n    let drawResults = [];\n    \n    for (var i = 0; i < result.results.length; i++) {\n        resultsQueue.push(result.results[i]);\n    }\n    \n    while (resultsQueue.length) {\n        let resultSearch = resultsQueue.shift();\n        let tableSearch = await compendiumTables.find(o => o.name === resultSearch.text);\n        if (tableSearch) {\n            let newResult = await tableSearch.roll();\n            for (var i = 0; i < newResult.results.length; i++) {\n                resultsQueue.push(newResult.results[i]);\n            }\n        }\n        else {\n            drawResults.push(resultSearch);\n        }\n    }\n    \n    result.results = [];\n    for (var i = 0; i < drawResults.length; i++) {\n        result.results.push(drawResults[i]);\n    }\n    \n    if (masterwork) {\n        result.results[0].text = \"Masterwork \" + result.results[0].text;\n    }\n    \n    originalTable.draw(result);\n}\n\nfunction addTreasure(event) {\n    let buttonClicked = event.target;\n    let treasureTypeToAdd = buttonClicked.name;\n    let treasureToAddIndex = buttonClicked.previousElementSibling.value;\n    let selectedTypes = buttonClicked.parentElement.parentElement.name;\n    let formParent = buttonClicked.parentElement.parentElement;\n    \n    let treasureToAdd = {};\n    switch (treasureTypeToAdd) {\n        case \"A\":\n            treasureToAdd = typeATreasure[treasureToAddIndex];\n            break;\n        case \"B\":\n            treasureToAdd = typeBTreasure[treasureToAddIndex];\n            break;\n        case \"C\":\n            treasureToAdd = typeCTreasure[treasureToAddIndex];\n            break;\n        case \"D\":\n            treasureToAdd = typeDTreasure[treasureToAddIndex];\n            break;\n        case \"E\":\n            treasureToAdd = typeETreasure[treasureToAddIndex];\n            break;\n        case \"F\":\n            treasureToAdd = typeFTreasure[treasureToAddIndex];\n            break;\n        case \"G\":\n            treasureToAdd = typeGTreasure[treasureToAddIndex];\n            break;\n        case \"H\":\n            treasureToAdd = typeHTreasure[treasureToAddIndex];\n            break;\n        case \"I\":\n            treasureToAdd = typeITreasure[treasureToAddIndex];\n            break;\n    }\n    \n    let selectHTMLs = formParent.getElementsByTagName('select');\n    \n\ttreasureToAdd.rewards.forEach(function(item) {\n\t\ttreasureHoard.push(item);\n\t})\n    budget -= treasureToAdd.value;\n    for (var i=0; i<selectHTMLs.length; i++) {\n        let selectElement = selectHTMLs[i];\n        let optionsHtml = createOptions(selectElement.name.charAt(0));\n        let treasureTypeIndex = (selectElement.name.charCodeAt(0) - 65);\n        let itemList = treasureTypes[treasureTypeIndex].filter(o => o.value <= budget);\n\n        if (itemList.length === 0) {\n            selectElement.nextElementSibling.disabled = true;\n            selectElement.disabled = true;\n        }\n        selectElement.innerHTML = optionsHtml;\n    }\n    let budgetDiv = formParent.firstElementChild;\n    budgetDiv.innerHTML = `<h1>Budget: ${budget} gp</h1>`;\n    let treasureDisplayDiv = formParent.nextElementSibling;\n    treasureDisplayDiv.innerHTML += `<p>${treasureToAdd.rewardText}</p>`\n}\n\nfunction createOptions(treasureType) {\n    let treasureTypeIndex = (treasureType.charCodeAt(0) - 65);\n    let itemList = treasureTypes[treasureTypeIndex].filter(o => o.value <= budget);\n    let optionsHtml = \"\";\n    if (itemList.length === 0) {\n        optionsHtml += `<option value=\"0\" selected>No Options in Budget Range</option>`\n    } else {\n    itemList.forEach(function(item, index) {\n        optionsHtml += `<option value=\"${index}\">${item.value} gp: ${item.rewardText}</option>`;\n    });\n    }\n    \n    return optionsHtml;\n}\n\nfunction calcBudget(html) {\n    let level = html.find('[name=\"levelSelect\"]').val();\n    let speed = html.find('[name=\"campaignSpeed\"]').val();\n    let mult = html.find('[name=\"multiplier\"]').val();\n    \n    if (speed === \"medium\") {\n        budget = medBudgets[level - 1];\n    }\n    else if (speed === \"slow\") {\n        budget = slowBudgets[level - 1];\n    }\n    else {\n        budget = fastBudgets[level - 1];\n    }\n    \n    if (mult === \"incidental\") {\n        budget /= 2;\n    }\n    else if (mult === \"double\") {\n        budget *= 2;\n    }\n    else if (mult === \"triple\") {\n        budget *= 3;\n    }\n}\n\ncanvas.tokens.selectObjects();\nlet d = new Dialog({\n  title: 'Treasure Generator',\n  content: `\n    <form class=\"flexcol\">\n      <div class=\"form-group\">\n        <label for=\"crSelect\">Level</label>\n        <select name=\"levelSelect\">\n          <option value=\"1\">1</option>\n          <option value=\"2\">2</option>\n          <option value=\"3\">3</option>\n          <option value=\"4\">4</option>\n          <option value=\"5\">5</option>\n          <option value=\"6\">6</option>\n          <option value=\"7\">7</option>\n          <option value=\"8\">8</option>\n          <option value=\"9\">9</option>\n          <option value=\"10\">10</option>\n          <option value=\"11\">11</option>\n          <option value=\"12\">12</option>\n          <option value=\"13\">13</option>\n          <option value=\"14\">14</option>\n          <option value=\"15\">15</option>\n          <option value=\"16\">16</option>\n          <option value=\"17\">17</option>\n          <option value=\"18\">18</option>\n          <option value=\"19\">19</option>\n          <option value=\"20\">20</option>\n        </select>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"campaignSpeed\">Campaign Speed</label>\n        <select name=\"campaignSpeed\">\n          <option value=\"medium\">Medium</option>\n          <option value=\"slow\">Slow</option>\n          <option value=\"fast\">Fast</option>\n        </select>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"multiplier\">Treasure Value</label>\n        <select name=\"multiplier\">\n          <option value=\"normal\">Normal</option>\n          <option value=\"incidental\">Incidental (1/2)</option>\n          <option value=\"double\">Double</option>\n          <option value=\"triple\">Triple</option>\n        </select>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"type\">Creature Type</label>\n        <select name=\"type\">\n            <option value=\"ABDE\">Aberration</option>\n            <option value=\"ABDEFGH\">Aberration (Cunning)</option>\n            <option value=\"ABDE\">Animal</option>\n            <option value=\"EF\">Construct</option>\n            <option value=\"EFBCH\">Construct (Guarding Treasure)</option>\n            <option value=\"ABCHI\">Dragon</option>\n            <option value=\"BCDG\">Fey</option>\n            <option value=\"ABDEFG\">Humanoid</option>\n            <option value=\"ABDEFGH\">Humanoid (Community)</option>\n            <option value=\"ABDE\">Magical Beast</option>\n            <option value=\"ABCDEH\">Monstrous Humanoid</option>\n            <option value=\"ABD\">Ooze</option>\n            <option value=\"ABCDEFGHI\">Outsider</option>\n            <option value=\"ABDE\">Plant</option>\n            <option value=\"ABDE\">Undead</option>\n            <option value=\"ABDEFG\">Undead (Intelligent)</option>\n            <option value=\"ABD\">Vermin</option>\n        </select>\n      </div>\n    </form>\n  `,\n  buttons: {\n    custom: {\n      icon: '<i class=\"fas fa-check-square\"></i>',\n      label: 'Customize Treasure Types',\n      callback: (html) => {\n          let types = html.find('[name=\"type\"]').val();\n          \n          calcBudget(html);\n          customizeTypes(types);\n        }\n    },\n    roll: {\n      icon: '<i class=\"fas fa-dice-d20\"></i>',\n      label: 'Roll Treasure',\n      callback: (html) => {\n        let types = html.find('[name=\"type\"]').val();\n        calcBudget(html);\n        \n        buildTreasure(types);\n      }\n    },\n  },\n  default: 'roll',\n}).render(true);","author":"bOvXr0XVBb8OJGQO","img":"icons/svg/dice-target.svg","actorIds":[]}
